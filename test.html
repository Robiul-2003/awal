<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ad Popup Example</title>
  <style>
    /* Popup backdrop */
    .ad-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      padding: 1rem;
      animation: fadeIn .25s ease forwards;
    }
    .ad-backdrop.show { display: flex; }

    /* Popup card */
    .ad-card {
      width: 100%;
      max-width: 420px;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 12px 40px rgba(0,0,0,0.35);
      transform: translateY(16px) scale(.98);
      opacity: 0;
      animation: popIn .32s ease forwards;
      position: relative;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Arial;
    }

    /* image area */
    .ad-media {
      display: block;
      width: 100%;
      height: 180px;
      object-fit: cover;
      background: #f2f2f2;
    }

    /* content */
    .ad-content {
      padding: 14px 16px 18px;
      text-align: center;
    }
    .ad-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 6px;
    }
    .ad-text {
      font-size: 14px;
      color: #444;
      margin-bottom: 10px;
    }
    .ad-cta {
      display: inline-block;
      padding: 8px 14px;
      border-radius: 8px;
      text-decoration: none;
      background: #0077ff;
      color: #fff;
      font-weight: 600;
      box-shadow: 0 6px 18px rgba(0,119,255,0.18);
    }

    /* footer controls */
    .ad-footer {
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 8px 14px;
      border-top: 1px solid #f0f0f0;
      gap: 8px;
    }
    .ad-footer label { font-size: 13px; color: #333; cursor: pointer; display:flex; align-items:center; gap:8px; }
    .ad-footer input[type="checkbox"] { width:16px; height:16px; }

    /* close button */
    .ad-close {
      position: absolute;
      right: 8px;
      top: 8px;
      background: rgba(0,0,0,0.55);
      color: #fff;
      border: none;
      width: 34px;
      height: 34px;
      border-radius: 8px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      font-size: 18px;
    }
    .ad-close:focus { outline: 3px solid rgba(0,120,255,0.25); }

    /* small-screen tweaks */
    @media (max-width:420px){
      .ad-card { max-width: 96%; }
      .ad-media { height: 150px; }
    }

    /* animations */
    @keyframes popIn {
      to { transform: translateY(0) scale(1); opacity: 1; }
    }
    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }
  </style>
</head>
<body>

  <!-- ================= Popup HTML ================= -->
  <div id="adBackdrop" class="ad-backdrop" role="dialog" aria-modal="true" aria-labelledby="adTitle" aria-describedby="adDesc">
    <div class="ad-card" role="document">
      <button class="ad-close" id="adClose" aria-label="Close advertisement">✕</button>

      <!-- Replace src below with your ad image URL -->
      <img class="ad-media" src="https://via.placeholder.com/800x450.png?text=Delivery+50%25+Off" alt="Delivery 50% off" />

      <div class="ad-content">
        <div id="adTitle" class="ad-title">Delivery Charge 50% Off!</div>
        <div id="adDesc" class="ad-text">সীমিত সময়ের জন্য ডেলিভারি চার্জে ৫০% ছাড়। এখনই অর্ডার করুন।</div>
        <a class="ad-cta" href="/offers" id="adCta" target="_blank" rel="noopener">অফার দেখুন</a>
      </div>

      <div class="ad-footer">
        <label title="Don't show this again for 7 days">
          <input type="checkbox" id="dontShow" />
          ৭ দিনের জন্য আর দেখান না
        </label>
        <div style="font-size:13px;color:#666;">Close to continue</div>
      </div>
    </div>
  </div>
  <!-- ================= End popup HTML ================= -->

  <main>
    <h1 style="padding:20px">তোমার ওয়েবসাইট কন্টেন্ট এখানে থাকবে</h1>
    <p style="padding:0 20px 40px">অন্যান্য পেজ কন্টেন্ট...</p>
  </main>

  <script>
    (function(){
      const BACKDROP_KEY = 'ad_dont_show_until'; // localStorage key
      const DONT_SHOW_DAYS = 7; // change if you want different duration

      const backdrop = document.getElementById('adBackdrop');
      const closeBtn = document.getElementById('adClose');
      const dontShowCheckbox = document.getElementById('dontShow');

      // helper: check if we should show
      function shouldShow() {
        try {
          const raw = localStorage.getItem(BACKDROP_KEY);
          if (!raw) return true;
          const until = Number(raw);
          if (isNaN(until)) return true;
          return Date.now() > until;
        } catch(e) {
          return true;
        }
      }

      // show the popup
      function showPopup() {
        backdrop.classList.add('show');
        // focus for accessibility
        closeBtn.focus();
      }

      // hide the popup
      function hidePopup() {
        backdrop.classList.remove('show');
      }

      // init: on DOM ready
      document.addEventListener('DOMContentLoaded', function(){
        if (!shouldShow()) return; // skip if within block period

        // small delay so page content loads (feel free to remove)
        setTimeout(showPopup, 550);

        // close handler
        closeBtn.addEventListener('click', function(){
          if (dontShowCheckbox.checked) {
            const until = Date.now() + DONT_SHOW_DAYS * 24 * 60 * 60 * 1000;
            try { localStorage.setItem(BACKDROP_KEY, String(until)); } catch(e){}
          }
          hidePopup();
        });

        // allow clicking outside card to close (optional)
        backdrop.addEventListener('click', function(e){
          if (e.target === backdrop) {
            if (dontShowCheckbox.checked) {
              const until = Date.now() + DONT_SHOW_DAYS * 24 * 60 * 60 * 1000;
              try { localStorage.setItem(BACKDROP_KEY, String(until)); } catch(e){}
            }
            hidePopup();
          }
        });

        // keyboard: Esc to close
        document.addEventListener('keydown', function(e){
          if (e.key === 'Escape' && backdrop.classList.contains('show')) {
            if (dontShowCheckbox.checked) {
              const until = Date.now() + DONT_SHOW_DAYS * 24 * 60 * 60 * 1000;
              try { localStorage.setItem(BACKDROP_KEY, String(until)); } catch(e){}
            }
            hidePopup();
          }
        });
      });
    })();
  </script>
</body>
</html>
